# Implementation Plan: theme-design

## 概要

ノート風テーマ・デザインの実装タスク。CSS Custom Propertiesによるカラーパレット一元管理と、ノート風UIの適用を段階的に行う。

---

## タスク一覧

- [x] 1. CSS Custom Properties（デザイントークン）の導入
- [x] 1.1 グローバルCSSにカラーパレット変数を定義
  - 背景色（クリーム系、紙色）の変数を定義
  - テキスト色（プライマリ、セカンダリ、ミュート、プレースホルダー）の変数を定義
  - ボーダー色（通常、フォーカス、罫線）の変数を定義
  - セマンティックカラー（プライマリ、成功、警告、ミュート）の変数を定義
  - _Requirements: FR-1.1, FR-1.2, FR-1.3_

- [x] 1.2 タイポグラフィ変数を定義
  - フォントファミリー（日本語システムフォント優先）の変数を定義
  - フォントサイズ（タイマー、見出し、本文、補助）の変数を定義
  - 行間（本文、見出し）の変数を定義
  - _Requirements: FR-2.1, FR-2.2, FR-2.3_

- [x] 1.3 スペーシングとレイアウト変数を定義
  - スペーシング（xs、sm、md、lg）の変数を定義
  - レイアウト（最大幅、ボーダー半径）の変数を定義
  - シャドウ（紙の質感用）の変数を定義
  - _Requirements: FR-3.2, FR-4.1, NFR-3.1_

- [x] 2. グローバルスタイルの更新
- [x] 2.1 全体の配色をノートテーマに変更
  - 背景色をダーク（#242424）からクリーム色に変更
  - テキスト色を白系から茶色系に変更
  - カラースキームをライトモードのみに設定
  - フォントファミリーを日本語対応フォントに変更
  - _Requirements: FR-1.1, FR-2.1, FR-4.1_

- [x] 2.2 レイアウトとスペーシングの調整
  - コンテンツの最大幅を変数で管理
  - 余白を変数で統一管理
  - モバイルファーストのレイアウト維持
  - _Requirements: FR-4.1, FR-4.3, FR-3.3_

- [x] 2.3 完了画面のスタイル更新
  - テキスト表示エリアの背景・文字色を変数に置換
  - ボタンの色をノートテーマに合わせて更新
  - ボーダー・シャドウをノート風に調整
  - _Requirements: FR-1.2, FR-5.1_

- [x] 3. タイマーコンポーネントのスタイル更新
- [x] 3.1 タイマー表示の色を更新
  - 通常時の数字表示色を茶色系に変更
  - 警告時（残り5秒以下）の色をオレンジ系に変更
  - 等幅数字（tabular-nums）は維持
  - _Requirements: FR-5.3, FR-1.2_

- [x] 3.2 タイマーボタンの色を更新
  - 開始ボタンの色を緑系に変更
  - 停止ボタンの色をオレンジ系に変更
  - 再開ボタンの色をゴールド系に変更
  - リセットボタンの色をミュート色に変更
  - ホバー状態の色も対応する変数に更新
  - _Requirements: FR-5.1, FR-1.2_

- [x] 4. 書き出しモードコンポーネントのスタイル更新
- [x] 4.1 タイマー表示とテキストエリアの基本色を更新
  - タイマー表示の色を茶色系に変更
  - 警告時の色をオレンジ系に変更
  - テキストエリアの背景を紙色に変更
  - テキストエリアの文字色を茶色系に変更
  - プレースホルダーの色を薄い茶色に変更
  - _Requirements: FR-5.2, FR-5.3, FR-1.1_

- [x] 4.2 テキストエリアにノート風罫線を追加
  - repeating-linear-gradientで横罫線パターンを作成
  - 罫線の間隔を行間（1.6em）に合わせて調整
  - 罫線色を薄い茶色系に設定
  - パディングと罫線の位置を調整
  - _Requirements: FR-3.1, FR-5.2_

- [x] 4.3 フォーカス状態とボーダーの更新
  - フォーカス時のアウトライン色をゴールド系に変更
  - 通常時のボーダー色を薄い茶色に変更
  - 無効状態のスタイルを調整
  - _Requirements: FR-5.2, NFR-2.1_

- [x] 5. アクセシビリティ対応
- [x] 5.1 ハイコントラストモード対応の追加
  - prefers-contrast: high メディアクエリを追加
  - ハイコントラスト時のボーダー色を濃くする
  - ハイコントラスト時の罫線色を濃くする
  - _Requirements: NFR-2.2_

- [x] 5.2 コントラスト比の検証と調整
  - 本文テキストと背景のコントラスト比を確認（4.5:1以上）
  - ボタンテキストと背景のコントラスト比を確認（4.5:1以上）
  - 必要に応じて色値を微調整
  - _Requirements: NFR-2.1_

- [x] 6. 統合テストと微調整
- [x] 6.1 全画面の表示確認
  - 開発サーバーで全画面の外観を確認
  - モバイル表示（320px〜767px）を確認
  - デスクトップ表示（768px〜）を確認
  - _Requirements: FR-4.3_

- [x] 6.2 既存テストの実行と確認
  - Timer、WritingModeの既存テストがパスすることを確認
  - スタイル変更がコンポーネントの動作に影響しないことを確認
  - _Requirements: NFR-1.1_

---

## Requirements Coverage

| Requirement | Task |
|-------------|------|
| FR-1.1 基本カラースキーム | 1.1, 2.1, 4.1 |
| FR-1.2 セマンティックカラー | 1.1, 2.3, 3.1, 3.2 |
| FR-1.3 CSS変数一元管理 | 1.1, 1.2, 1.3 |
| FR-2.1 フォントファミリー | 1.2, 2.1 |
| FR-2.2 フォントサイズ | 1.2 |
| FR-2.3 行間・文字間 | 1.2 |
| FR-3.1 罫線表現 | 4.2 |
| FR-3.2 紙の質感 | 1.3 |
| FR-3.3 余白デザイン | 2.2 |
| FR-4.1 全体構造 | 1.3, 2.1, 2.2 |
| FR-4.3 レスポンシブ対応 | 2.2, 6.1 |
| FR-5.1 ボタン | 2.3, 3.2 |
| FR-5.2 テキストエリア | 4.1, 4.2, 4.3 |
| FR-5.3 タイマー表示 | 3.1, 4.1 |
| NFR-1.1 軽量性 | 6.2 |
| NFR-2.1 コントラスト比 | 4.3, 5.2 |
| NFR-2.2 ハイコントラストモード | 5.1 |
| NFR-3.1 CSS設計 | 1.3 |
